# Define the model PaymentRequest from the DB
type PaymentRequest {
  id: ID! # the primary partition key in DynamoDB
  payment_id: ID!
  shop_id: String!
  creation_date: String!
}
# Define the queries
type Query {
  # list all PaymentRequest
  listPaymentRequest: [PaymentRequest]
  # get payment request
  getPaymentRequest(id: ID!): PaymentRequest
}
# Define the input to create a PaymentRequest
input PaymentRequestInput {
  # the amount of the PaymentRequest to create
  amount: [Amount],
  name: String!
  description: String!
  quantity: Int!
  shop_id: String!
  unit_price: [Amount]
}

input Amount {
  value: Float!
  currency: String!
}

# Define the mutations
type Mutation {
  # Create a PaymentRequest
  createPaymentRequest(data: PaymentRequestInput!): PaymentRequest!
  updatePaymentRequest(id: ID!, data: PaymentRequestInput!): PaymentRequest!
  deletePaymentRequest(id: ID!): PaymentRequest!
}

type Subscription {
	onCreatePaymentRequests(data: PaymentRequestInput): PaymentRequest
		@aws_subscribe(mutations: ["createPaymentRequest"])
}

# Define the schema
schema {
  # all the queries
  query: Query
  # all the mutations
  mutation: Mutation
  #all subscription
  subscription: Subscription
}